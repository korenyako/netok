# DNS Protection — Netok

## Концепция

Вместо 8 провайдеров с 20+ режимами — **4 понятные цели**, отобранные нами для каждого кейса.

## Провайдеры

| ID | Название | Провайдер | Описание RU | Описание EN |
|----|----------|-----------|-------------|-------------|
| `fast` | Cloudflare | Cloudflare | Минимальная задержка, без фильтрации | Minimal latency, no filtering |
| `adblock` | AdGuard | AdGuard | Блокирует рекламу и трекеры | Blocks ads and trackers |
| `secure` | Quad9 | Quad9 | Блокирует вирусы и фишинг | Blocks malware and phishing |
| `family` | CleanBrowsing | CleanBrowsing | Защита детей + безопасный поиск | Child safety + safe search |

## DNS-адреса

### Cloudflare (Fast)
| | Primary | Secondary |
|------|---------|-----------|
| IPv4 | `1.1.1.1` | `1.0.0.1` |
| IPv6 | `2606:4700:4700::1111` | `2606:4700:4700::1001` |

### AdGuard (Ad-free)
| | Primary | Secondary |
|------|---------|-----------|
| IPv4 | `94.140.14.14` | `94.140.15.15` |
| IPv6 | `2a10:50c0::ad1:ff` | `2a10:50c0::ad2:ff` |

### Quad9 (Secure)
| | Primary | Secondary |
|------|---------|-----------|
| IPv4 | `9.9.9.9` | `149.112.112.112` |
| IPv6 | `2620:fe::fe` | `2620:fe::9` |

### CleanBrowsing (Family)
| | Primary | Secondary |
|------|---------|-----------|
| IPv4 | `185.228.168.168` | `185.228.169.168` |
| IPv6 | `2a0d:2a00:1::` | `2a0d:2a00:2::` |

### Custom (Свой DNS)
Пользователь указывает адреса вручную:
- Primary IPv4
- Secondary IPv4
- Primary IPv6 (опционально)
- Secondary IPv6 (опционально)

## Почему эти провайдеры

| Цель | Провайдер | Почему выбран |
|------|-----------|---------------|
| Fast | Cloudflare | Лидер бенчмарков (~5ms глобально), privacy-focused |
| Ad-free | AdGuard | Блокировка рекламы из коробки, без регистрации |
| Secure | Quad9 | Специализация на malware/phishing, некоммерческий, DNSSEC |
| Family | CleanBrowsing | SafeSearch на Google/YouTube, блокирует VPN/прокси обходы |

## Логика работы

1. **Защита выключена** → показываем 4 карточки, ни одна не выбрана
2. **Выбор карточки** → применяем DNS (IPv4 + IPv6), включаем защиту
3. **Выключение защиты** → возвращаем системный DNS (DHCP)

## Важно: IPv4 + IPv6

При установке DNS необходимо менять **оба протокола**:
- Устанавливаем IPv4 и IPv6 адреса провайдера
- При выключении — сбрасываем оба на DHCP

Иначе часть трафика может пойти через нефильтрованный IPv6 DNS.
